<!-- Header Start -->
{% extends "app/common/frame.html" %}
{% load static %}
{% load django_bootstrap5 %}
{% block title %} New Home {% endblock title %}
{% block header %}
{% include "app/common/header.html" %}
{% endblock header %}
<!-- Header End -->

{% block content %}
<hr class="featurette-divider">
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <h2 class="mb-4">글 수정하기</h2>
            <form method="post" enctype="multipart/form-data" onsubmit="if(!confirm('내용을 수정하시겠습니까?')) return false; document.querySelector('#loadingModal div').innerText='저장중'; showLoadingModal();">
                {% csrf_token %}
                {% bootstrap_form form %}
                <!-- 추가: 공개 갤러리에 공유하기 옵션 -->
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="is_public" name="is_public" {% if post.is_public %}checked{% endif %}>
                    <label class="form-check-label" for="is_public">공개 갤러리에 공유하기</label>
                </div>
                <div class="d-flex gap-2">
                    <button type="submit" class="btn btn-primary">저장</button>
                    <a href="{% url 'post_detail' post.id %}" class="btn btn-secondary">취소</a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock content %}


<!-- Footer Start -->
{% block footer %}
{% include "app/common/footer.html" %}
{% endblock footer %}
<!-- Footer End -->